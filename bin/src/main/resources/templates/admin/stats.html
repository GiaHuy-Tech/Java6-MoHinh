<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dashboard - MODEL WORLD</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">


<style>
/* --- C·∫§U H√åNH M√ÄU S·∫ÆC & BI·∫æN (ƒê·ªíNG B·ªò) --- */
:root {
    --bg-dark: #050b14;
    --bg-card: #0c1525;
    --text-light: #e1e7ff;
    --accent-cyan: #00f2ff; /* M√†u Neon Cyan ch√≠nh */
    --border-color: rgba(0, 242, 255, 0.2);
    
    /* Font Variables */
    --font-main: "Be Vietnam Pro", sans-serif;
    --font-display: "Orbitron", sans-serif;

    /* ƒê·ªäNH NGHƒ®A HI·ªÜU ·ª®NG NEON GLOW */
    --neon-box-shadow: 0 0 10px rgba(0, 242, 255, 0.3);
}

body {
    /* ƒêi·ªÅu ch·ªânh n·ªÅn ƒë·ªÉ ph√π h·ª£p v·ªõi m√†u Dark Blue ch√≠nh */
    background: 
    linear-gradient(135deg, var(--bg-dark), #1a0033),
    url('https://file.hstatic.net/200000838897/article/anime_figure_008aea7949c540cd8500f596197eb317.jpg') center/cover no-repeat fixed;
    color: var(--text-light);
    min-height: 100vh;
    font-family: var(--font-main); /* D√πng font Be Vietnam Pro */
    overflow-x: hidden;
    position: relative;
}

/* TYPOGRAPHY FIX */
h2, h4, h5, h6, .fw-bold { font-family: var(--font-main); font-weight: 700; }
.navbar-brand { font-family: var(--font-display); text-transform: uppercase; letter-spacing: 1px; }
.navbar-brand span { color: #fff; }


/* M∆∞a */
.raindrop {
  position: absolute;
  width: 2px;
  height: 15px;
  background: var(--accent-cyan); /* D√πng m√†u Neon Cyan */
  animation-name: fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}
@keyframes fall {
  0% { transform: translateY(-20px); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translateY(110vh); opacity: 0; }
}

/* Navbar */
.navbar {
    background: linear-gradient(90deg, var(--bg-dark), var(--bg-card));
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 0 15px rgba(0, 242, 255, 0.5); /* Neon glow */
}
.navbar .nav-link { 
    color: var(--accent-cyan) !important; 
    transition: 0.3s;
    font-weight: 500;
}
.navbar .nav-link:hover {
    color: var(--text-light) !important;
    text-shadow: 0 0 8px var(--accent-cyan);
}

/* Card - D√ôNG CHUNG STYLE C·ª¶A C√ÅC TRANG KH√ÅC */
.card {
    background-color: var(--bg-card); /* M√†u n·ªÅn t·ªëi */
    border: 1px solid var(--border-color); /* Vi·ªÅn m√†u Neon */
    border-radius: 12px;
    transition: all 0.3s ease;
    backdrop-filter: blur(6px);
    box-shadow: none; 
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: var(--neon-box-shadow); /* Th√™m Neon glow khi hover */
}
.card h6 { color: var(--accent-cyan); font-weight: 600; }
.card i { transition: 0.3s; }
.card:hover i { transform: scale(1.1); }

/* B·∫£ng */
.table {
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border-color);
}
.table thead { background-color: var(--bg-card); }
.table th { 
    color: var(--accent-cyan); 
    font-weight: 600; 
    border-bottom: 1px solid var(--border-color);
}
.table-dark tbody tr { 
    background-color: transparent !important;
    border-color: rgba(255,255,255,0.05);
}
.table td { color: var(--text-light); }
.table-hover tbody tr:hover { 
    background-color: rgba(0,242,255,0.1) !important; 
}

/* Footer */
.footer {
    background: linear-gradient(90deg, var(--bg-dark), var(--bg-card));
    border-top: 1px solid var(--border-color);
    color: rgba(255,255,255,0.85);
    margin-top: 60px; /* ƒê·∫£m b·∫£o kho·∫£ng c√°ch v·ªõi n·ªôi dung */
}

/* Chart */
canvas { max-height: 400px; }

/* M√†u s·∫Øc th·ªëng k√™ */
.text-custom-primary { color: #8a2be2 !important; /* BlueViolet for Primary */ }
.text-custom-success { color: #00ff7f !important; /* Spring Green for Success */ }
.text-custom-warning { color: #ffeb3b !important; /* Yellow for Warning */ }
.text-custom-danger { color: #ff007f !important; /* Pink for Danger/Heart */ }
</style>
</head>

<body>

<div id="rain"></div>

<nav class="navbar navbar-expand-lg px-4 py-3 sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center gap-2" href="/stats"> 
        <i class="bi bi-box-seam-fill fs-3" style="color: var(--accent-cyan);"></i>
        <span class="fw-bold fs-4">MODEL WORLD</span>
    </a>
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav me-3">
        <li class="nav-item"><a class="nav-link" href="/cata-mana"><i class="bi bi-tags me-1"></i> Danh m·ª•c</a></li>
        <li class="nav-item"><a class="nav-link" href="/product-mana"><i class="bi bi-box-seam me-1"></i> S·∫£n ph·∫©m</a></li>
        <li class="nav-item"><a class="nav-link" href="/orders-mana"><i class="bi bi-receipt me-1"></i> ƒê∆°n h√†ng</a></li>
        <li class="nav-item"><a class="nav-link" href="/user-mana"><i class="bi bi-people me-1"></i> Ng∆∞·ªùi d√πng</a></li>
        <li class="nav-item"><a class="nav-link" href="/admin/cart"><i class="bi bi-cart3 me-1"></i> Gi·ªè h√†ng</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container py-5">
  <h2 class="text-center fw-bold mb-5" style="color: var(--accent-cyan) !important;">üìä DASHBOARD H·ªÜ TH·ªêNG QU·∫¢N TR·ªä</h2>
  
  <div class="row g-4 mb-5 text-center">
    <div class="col-md-3">
      <div class="card p-3">
        <h6>T·ªïng ƒë∆°n h√†ng</h6>
        <i class="bi bi-bag-check-fill fs-2 text-custom-primary"></i>
        <h4 class="fw-bold mt-2 text-custom-primary" th:text="${totalOrders}">0</h4>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6>T·ªïng s·∫£n ph·∫©m</h6>
        <i class="bi bi-box-seam-fill fs-2 text-custom-success"></i>
        <h4 class="fw-bold mt-2 text-custom-success" th:text="${totalProducts}">0</h4>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6>Ng∆∞·ªùi d√πng</h6>
        <i class="bi bi-people-fill fs-2 text-custom-warning"></i>
        <h4 class="fw-bold mt-2 text-custom-warning" th:text="${totalAccounts}">0</h4>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3">
        <h6>T·ªïng danh m·ª•c</h6>
        <i class="bi bi-tags-fill fs-2 text-custom-danger"></i>
        <h4 class="fw-bold mt-2 text-custom-danger" th:text="${totalCategories}">0</h4>
      </div>
    </div>
  </div>

  <div class="row g-4 mb-5 text-center">
    <div class="col-md-6 col-lg-3">
      <div class="card p-3">
        <h6>S·∫£n ph·∫©m ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t</h6>
        <i class="bi bi-heart-fill fs-2 text-custom-danger"></i>
        <h5 class="mt-2 fw-bold text-custom-danger" th:text="${topWish != null ? topWish.name : 'Ch∆∞a c√≥'}">Ch∆∞a c√≥</h5>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="card p-3">
        <h6>S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t</h6>
        <i class="bi bi-cart-check-fill fs-2 text-custom-success"></i>
        <h5 class="mt-2 fw-bold text-custom-success" th:text="${topSold != null ? topSold.name : 'Ch∆∞a c√≥'}">Ch∆∞a c√≥</h5>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="card p-3">
        <h6>ƒê∆°n h√†ng th√°ng</h6>
        <i class="bi bi-bar-chart-line-fill fs-2" style="color: var(--accent-cyan);"></i>
        <h5 class="mt-2 fw-bold" style="color: var(--accent-cyan);" th:text="${monthOrders}">0</h5>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="card p-3">
        <h6>ƒê∆°n h√†ng nƒÉm</h6>
        <i class="bi bi-cash-stack fs-2" style="color: var(--accent-cyan);"></i>
        <h5 class="mt-2 fw-bold" style="color: var(--accent-cyan);" th:text="${yearOrders}">0</h5>
      </div>
    </div>
  </div>
  
  <div class="card p-4 mb-5">
      <h5 class="text-center mb-3" style="color: var(--accent-cyan);"><i class="bi bi-calendar-week me-2"></i> S·ªë ƒë∆°n theo th√°ng</h5>
      <div class="table-responsive">
        <table class="table table-dark table-hover text-center align-middle mb-0">
          <thead>
            <tr>
              <th>Th√°ng</th>
              <th>S·ªë ƒë∆°n</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="month, iStat : ${months}">
              <td th:text="${month}">Th√°ng 1</td>
              <td th:text="${orderCounts[iStat.index]}">0</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

<footer class="footer text-center py-4">
  <small>¬© 2025 <span style="color: var(--accent-cyan);">MODEL WORLD</span> | Figure & Model Store</small>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// T·∫°o m∆∞a
const rainContainer = document.getElementById('rain');
const drops = 100; // s·ªë l∆∞·ª£ng gi·ªçt
for(let i=0; i<drops; i++){
  const drop = document.createElement('div');
  drop.classList.add('raindrop');
  drop.style.left = Math.random() * 100 + 'vw';
  drop.style.animationDuration = (Math.random()*1+0.5) + 's';
  drop.style.animationDelay = Math.random() * 5 + 's';
  rainContainer.appendChild(drop);
}
</script>

</body>
</html>